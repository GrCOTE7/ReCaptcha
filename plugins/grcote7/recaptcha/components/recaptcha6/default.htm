{# <script src="https://www.google.com/recaptcha/api.js?render={{ sitekey }}"></script> #}
{# <script src="https://www.google.com/recaptcha/api.js" async defer></script> #}
{# <script>
    function onSubmit(token) {
      document.getElementById("re-form-email").submit();
    }
  </script> #}
  <script>
    function onSubmit(token) {
      document.getElementById("form-email").submit();
    }
  </script>

<div class="content">
    <hr>
    <p>The reCaptcha component is added</p>

    {# {{ sitekey }} #}

    <div class="{% if vars['method']== 'GET' %}green{% else %}red{% endif %}">
        {% for key, val in vars %}
            {{ key|title }} : {{ val }}<br>
        {% endfor %}
    </div>

    <div id="recaptcha6-result">
        CAPTCHA RESULT
    </div>
{#
    <form action="javascript:void(0)" method="POST" id="re-form-email"
    data-request="recaptcha::onSubscribe"
    data-request-validate
    data-request-flash
    data-request-update="'recaptcha::partials/recaptcha-result': '#p-recaptcha-result'">
    #}
    <form id="form-email"
    data-request="recaptcha6::onSubscribe"
    data-request-validate
    data-request-flash
    data-request-update="'recaptcha6::partials/recaptcha6-result': '#recaptcha6-result'">

    <div id="html_element"></div>

        {{ form_token() }}
        <div class="mb-3 blocemailggle">
            <label for="email" class="form-label" id="label">
                Votre email
            </label>
            <input type="email" name="email" id="email" placeholder="The best !" value="TestEmail@GG.com" class="form-control">
        </div>

        <input type="hidden" id="sitekey" value="{{ sitekey }}" />
        <input type="hidden" id="token" name="token" />
        {# <input type="hidden" id="g-recaptcha-response" class="g-recaptcha"/> #}

        {# <div id="recaptcha" class="g-recaptcha"></div> #}

        {# <button
         class="g-recaptcha"
        {# type="submit" #}
        {# data-action='submit' #}
        {# > #}
        {# </button> #}
        {# <div type = "submit" class="g-recaptcha"
        data-sitekey="SITE_KEY"
        data-callback="onSubmit"
        data-size="invisible">
        </div> #}

        <button type="submit" class="btn btn-primary" id="submit"
        data-attach-loading
        {# data-sitekey="{{ sitekey }}" #}
        {# data-callback='onSubmit' #}
        {# data-action='submit' #}
        >Soumettre</button>

    {# </form>
    <script src="https://www.google.com/recaptcha/api.js?onload=onloadCallback&render=explicit"
    async defer>
    </script> #}
</div>

